
<div class="card" *ngFor="let post of posts$ | async; index as i"  id="post{{ i }}" >
 
<p-card header="{{ post?.postTitle }}" [style]="{width: '100%'}" styleClass="ui-card-shadow">
 
  <p-header class="header">
    <div class="header__header">
      <p-button label="" icon="pi pi-trash" (click)="deletePost(post?.postId)" styleClass="ui-button-danger"></p-button>
      <p style="text-align: right;">ref: {{ post?.postId }} / Autor: {{ post?.postAuthorName }}</p>
  </div>
      <img class="header__img" src="Card"  src="../../../assets/rectangle.png"  (click)="showDetails(post?.postId)">
  </p-header>
  <div class="post-content" (click)="showDetails(post?.postId)">{{ post?.postContent }}</div>

  <p-footer>
      <form class="p-formgroup-inline" [formGroup]="UpdatePostForm">
        <div class="p-field ui-float-label">
          <input type="text" formControlName="postTitle" id="postTitle" size="50" pInputText autocomplete="off"/>
          <label for="postTitle">Título</label>
        </div>
        <div class="ui-float-label" >
          <input
          formControlName="postContent"
          name="postContent"
          id="postContent"
          size="90" pInputText
          autocomplete="off"
          />
          <label for="postContent">Contenido</label>
        </div>
        <div>
          <p-button styleClass="ui-button-warning" label="Update" (click)="modifyPost(post.postId, post)"></p-button>
        </div>
      </form>
  </p-footer>
</p-card>

<div class="newpost" *ngIf="displayNewPostForm">
    <form class="ui-fluid p-formgrid p-grid" [formGroup]="newPostForm">
      <div class="p-col">
        <label for="postTitle">Título</label>
        <input id="postTitle" type="text" pInputText  formControlName="postTitle" autocomplete="off"> 
      </div>
      <div class="p-col">
        <label for="postContent">Contenido</label>
        <input id="postContent" type="text" pInputText formControlName="postContent"/>
      </div>
      <div class="btn-container">
        <p-button label="Create" styleClass="ui-button-success"  (onClick)="createPost(); displayNewPostForm = !displayNewPostForm"
        [disabled]="!newPostForm.valid"></p-button>
      </div>
    </form>
</div>
<button class="btn-new-post" (click)="displayNewPostForm = !displayNewPostForm;">
  +
</button>
